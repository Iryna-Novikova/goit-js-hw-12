{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com';\nconst myApiKey = '50600244-46274b1c7bbfed49553e909c7';\n\nexport const getImagesByQuery = (query) => {\n    // параметри запиту\n    const params = {\n        key: myApiKey,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    };\n   \n    return axios.get('/api/', { params }).then(response => response.data);\n}\n","//імпортуємо з бібліотеки simplelightbox\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryListElem = document.querySelector('.gallery');\nconst loaderElm = document.querySelector('.loader');\n\n//екземпляр SimpleLightbox для роботи з модальним вікном\nconst Lightbox = new SimpleLightbox('.gallery a', { \n    captionsData: 'alt',\n    captionDelay: 250,\n    captionPosition: 'bottom',\n  });\n\n// створення елементу розмітки для однієї картинки\nfunction getListElemMrkup(image) {\n    return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${image.webformatURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${image.largeImageURL}\"\n        alt=\"${image.tags}\"\n      /> \n    <div class=\"img-info\">\n      <div class=\"img-info-descr\">\n         <h2 class=\"img-info-header\">likes</h2>\n         <p class=\"img-info-p\">${image.likes}</p>\n      </div>\n      <div class=\"img-info-descr\">\n         <h2 class=\"img-info-header\">views</h2>\n         <p class=\"img-info-p\">${image.views}</p>\n      </div>\n      <div class=\"img-info-descr\">\n         <h2 class=\"img-info-header\">comments</h2>\n         <p class=\"img-info-p\">${image.comments}</p>\n      </div>\n      <div class=\"img-info-descr\">\n         <h2 class=\"img-info-header\">downloads</h2>\n         <p class=\"img-info-p\">${image.downloads}</p>\n      </div>      \n      </div>          \n    </a>\n    </li>`; \n}\n\nexport function createGallery(images) { \n    const listImagesMrkup = images.map(getListElemMrkup).join('\\n');\n    galleryListElem.insertAdjacentHTML(\"afterbegin\", listImagesMrkup);\n    Lightbox.refresh();\n}\n\nexport function clearGallery() { \n    galleryListElem.innerHTML = '';\n}\n\nexport function showLoader() { \n    loaderElm.classList.remove('hidden');\n}\n\nexport function hideLoader() { \n    loaderElm.classList.add('hidden');\n}","// імпортуємо бібліотеку izitoast\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// // імпортуємо власні функції\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', handlerFormSbmt); \n\nfunction handlerFormSbmt(evt) { \n    evt.preventDefault();\n    clearGallery();\n\n    const textForSearch = formEl.elements['search-text'].value.trim();\n    \n    if (textForSearch !== '') {\n        showLoader();\n        getImagesByQuery(textForSearch)\n            .then(res => {\n                if (res.hits.length === 0) {\n                    iziToast.show({\n                        title: '',\n                        message: '❌ Sorry, there are no images matching your search query. Please try again!',\n                        backgroundColor: 'rgb(136, 44, 44)',\n                        messageColor: 'rgb(255, 255, 255)',\n                        position: 'topRight',\n                    });\n                } else {\n                    createGallery(res.hits);\n                    formEl.reset();\n                }\n            })\n            .catch(err => {\n                iziToast.show({\n                    title: '',\n                    message: `❌ Sorry, it's some error hear: ${err}`,\n                    backgroundColor: 'rgb(136, 44, 44)',\n                    messageColor: 'rgb(255, 255, 255)',\n                    position: 'topRight',\n                });\n            })\n            .finally(() => \n                hideLoader()\n            );\n        \n    } else { \n        iziToast.show({\n            title: '',\n            message: '❌ Please enter non empty request.',\n            backgroundColor: 'rgb(136, 44, 44)',\n            messageColor: 'rgb(255, 255, 255)',\n            position: 'topRight',\n        });\n    }\n}\n"],"names":["axios","myApiKey","getImagesByQuery","query","params","response","galleryListElem","loaderElm","Lightbox","SimpleLightbox","getListElemMrkup","image","createGallery","images","listImagesMrkup","clearGallery","showLoader","hideLoader","formEl","handlerFormSbmt","evt","textForSearch","res","iziToast","err"],"mappings":"owBAEAA,EAAM,SAAS,QAAU,sBACzB,MAAMC,EAAW,qCAEJC,EAAoBC,GAAU,CAEvC,MAAMC,EAAS,CACX,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EAEI,OAAOH,EAAM,IAAI,QAAS,CAAE,OAAAI,CAAM,CAAE,EAAE,KAAKC,GAAYA,EAAS,IAAI,CACxE,ECZMC,EAAkB,SAAS,cAAc,UAAU,EACnDC,EAAY,SAAS,cAAc,SAAS,EAG5CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,IACd,gBAAiB,QACrB,CAAG,EAGH,SAASC,EAAiBC,EAAO,CAC7B,MAAO;AAAA,oCACyBA,EAAM,YAAY;AAAA;AAAA;AAAA,eAGvCA,EAAM,aAAa;AAAA,eACnBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iCAKQA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,UAKhD,CAEO,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAkBD,EAAO,IAAIH,CAAgB,EAAE,KAAK;AAAA,CAAI,EAC9DJ,EAAgB,mBAAmB,aAAcQ,CAAe,EAChEN,EAAS,QAAO,CACpB,CAEO,SAASO,GAAe,CAC3BT,EAAgB,UAAY,EAChC,CAEO,SAASU,GAAa,CACzBT,EAAU,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASU,GAAa,CACzBV,EAAU,UAAU,IAAI,QAAQ,CACpC,CCpDA,MAAMW,EAAS,SAAS,cAAc,OAAO,EAE7CA,EAAO,iBAAiB,SAAUC,CAAe,EAEjD,SAASA,EAAgBC,EAAK,CAC1BA,EAAI,eAAc,EAClBL,IAEA,MAAMM,EAAgBH,EAAO,SAAS,aAAa,EAAE,MAAM,OAEvDG,IAAkB,IAClBL,IACAd,EAAiBmB,CAAa,EACzB,KAAKC,GAAO,CACLA,EAAI,KAAK,SAAW,EACpBC,EAAS,KAAK,CACV,MAAO,GACP,QAAS,6EACT,gBAAiB,mBACjB,aAAc,qBACd,SAAU,UAClC,CAAqB,GAEDX,EAAcU,EAAI,IAAI,EACtBJ,EAAO,MAAK,EAEhC,CAAa,EACA,MAAMM,GAAO,CACVD,EAAS,KAAK,CACV,MAAO,GACP,QAAS,kCAAkCC,CAAG,GAC9C,gBAAiB,mBACjB,aAAc,qBACd,SAAU,UAC9B,CAAiB,CACjB,CAAa,EACA,QAAQ,IACLP,EAAY,CAC5B,GAGQM,EAAS,KAAK,CACV,MAAO,GACP,QAAS,oCACT,gBAAiB,mBACjB,aAAc,qBACd,SAAU,UACtB,CAAS,CAET"}